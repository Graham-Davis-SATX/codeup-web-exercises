<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <title>Weather Map</title>
    <style>

        /** {*/
            /*border: 1px solid red;*/
        /*}*/

        .jumbotron {
            text-align: center;
            padding: 15rem 0;
            text-shadow: 2px 2px #000;
        }

        .bg-cover {
            background-image: url('img/weather_og.png');
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center center;

        }

        p > img {
            position: relative;
            top: -2px;
            padding: 0;
            margin: 0;
        }

        .description {
            margin-bottom: 0;
        }

        </style>

</head>
<body>

    <div class="jumbotron jumbotron-fluid bg-cover mb-0">
    </div>

    <div class="container">
        <div class="row d-flex justify-content-center pt-3">
            <h3 class="text-primary">Enter City Name</h3>
        </div>
        <div class="row form-group form-inline d-flex justify-content-center" id="rowDiv">
            <input type="text" name="city" id="city" class="form-control" placeholder="City Name">
            <button id="submitWeather" class="btn btn-primary">Search City</button>
            <p id="error"></p>
        </div>
        <div class="row">
            <div class="col-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title" id="todayDate"></h5>
                        <p class="card-text"><div id="today" class="text-primary"></div></p>
                    </div>
                </div>
            </div>
            <div class="col-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title" id="tomorrowDate"></h5>
                        <p class="card-text"><div id="tomorrow" class="text-danger"></div></p>
                    </div>
                </div>
            </div>
            <div class="col-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title" id="thirdDayDate"></h5>
                        <p class="card-text"><div id="day-three"></div></p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>


<!-- Optional JavaScript -->
<script>
    $(document).ready(function() {
        "use strict";

        // this is the button that activates the ajax request
        $('#submitWeather').click(function(){

            // gets the value of the input field
            var city = $('#city').val();

            //check to see if input field is empty
            if(city != ''){

                $.ajax({ //city is passed in from the input field above
                   url: 'http://api.openweathermap.org/data/2.5/forecast?q=' + city + '&units=imperial' + '&APPID=7f8e3aa0aad113510e0c1eaafd1c17b8',
                    type: 'GET',
                    dataType: 'jsonp',
                    //request has been sent and the return info is stored in the 'data' callback
                    success: function(weatherData){
                        console.log(weatherData);
                        var widgetToday = showToday(weatherData);
                        var widgetTomorrow = showTomorrow(weatherData);
                        var widgetDayThree = showDayThree(weatherData);

                        $('#today').html(widgetToday);
                        $('#tomorrow').html(widgetTomorrow);
                        $('#day-three').html(widgetDayThree);

                        //empty the input field after button submission
                        $('#city').val('');
                    }
                });
                dayOfWeek();

            } else {
                $('#error').html('Field cannot be empty!');
            }

        });

        function dayOfWeek() {
            var d = new Date();
            var weekday = new Array(7);
            weekday[0] = "Sunday";
            weekday[1] = "Monday";
            weekday[2] = "Tuesday";
            weekday[3] = "Wednesday";
            weekday[4] = "Thursday";
            weekday[5] = "Friday";
            weekday[6] = "Saturday";

            var today = weekday[d.getDay()];
            document.getElementById("todayDate").innerHTML = today;
            $('#todayDate').htnh
            var tomorrow = weekday[d.getDay() + 1];
            document.getElementById("tomorrowDate").innerHTML = tomorrow;
            var thirdDay = weekday[d.getDay() + 2];
            document.getElementById("thirdDayDate").innerHTML = thirdDay;


            document.getElementById('contents'); //returns a HTML DOM Object
            var contents = $('#contents');  //returns a jQuery Object
            var contents = $('#contents')[0]; //returns a HTML DOM Object


            document.all.regTitle.innerHTML = 'Hello World';
            $("#regTitle").html("Hello World");
        }

        function showToday(weatherData){
            return  '<h2><strong>Weather</strong>: '+ weatherData.list[0].main.temp_max +'</h2>'
        };

        function showTomorrow(weatherData){
            return  '<h2><strong>Weather</strong>: '+ weatherData.list[8].main.temp_max +'</h2>'
        }

        function showDayThree(weatherData){
            return  '<h2><strong>Weather</strong>: '+ weatherData.list[16].main.temp_max +'</h2>'
        }





    }); //ends the doc.ready func

</script>
</body>
</html>